"use strict";(self.webpackChunkdocusaurus_openapi_typedoc=self.webpackChunkdocusaurus_openapi_typedoc||[]).push([["266"],{28898:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>t,default:()=>a,contentTitle:()=>c,assets:()=>l,toc:()=>o,metadata:()=>s});var s=JSON.parse('{"id":"lib/grab-api","title":"grab-api","description":"Documentation / grab-api","source":"@site/docs/lib/grab-api.md","sourceDirName":"lib","slug":"/lib/grab-api","permalink":"/lib/grab-api","draft":false,"unlisted":false,"editUrl":"https://github.com/vtempest/grab-api.js/blob/main/docs/lib/grab-api.md","tags":[],"version":"current","frontMatter":{},"sidebar":"default","previous":{"title":"README","permalink":"/lib/"},"next":{"title":"icons-1","permalink":"/lib/icons-1"}}'),d=r(74132),i=r(50065);let t={},c=void 0,l={},o=[{value:"grab()",id:"grab",level:2},{value:"GRAB: Generate Request to API from Browser",id:"grab-generate-request-to-api-from-browser",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Returns",id:"returns",level:3},{value:"Author",id:"author",level:3},{value:"See",id:"see",level:3},{value:"Example",id:"example",level:3}];function h(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"/lib/modules",children:"Documentation"})," / grab-api"]}),"\n",(0,d.jsx)(n.h2,{id:"grab",children:"grab()"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"function grab(path: string, options?: object): Promise<any>;\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Defined in: ",(0,d.jsx)(n.a,{href:"https://github.com/vtempest/grab-api/tree/master/src/grab-api.js#L66",children:"grab-api.js:66"})]}),"\n",(0,d.jsx)(n.h3,{id:"grab-generate-request-to-api-from-browser",children:"GRAB: Generate Request to API from Browser"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{src:"https://i.imgur.com/qrQWkeb.png",alt:"GrabAPILogo"})}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"One Function"}),": 3Kb min, 0 dependencies, minimalist syntax, ",(0,d.jsx)(n.a,{href:"https://grab.js.org/guide/Comparisons",children:"more features than top alternatives"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Auto-JSON Convert"}),": Pass parameters and get response or error in JSON, handling other data types as is."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"isLoading Status"}),": Sets ",(0,d.jsx)(n.code,{children:".isLoading=true"}),' on the pre-initialized response object so you can show a "Loading..." in any framework']}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Debug Logging"}),": Adds global ",(0,d.jsx)(n.code,{children:"log()"})," and prints colored JSON structure, response, timing for requests in test."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Mock Server Support"}),": Configure ",(0,d.jsx)(n.code,{children:"window.grab.mock"})," for development and testing environments"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Concurrency Handling"}),": Prevent this request if one is ongoing to same path & params, or cancel the ongoing request."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Timeout & Retry"}),": Customizable request timeout, default 20s, and auto-retry on error"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"DevTools"}),": ",(0,d.jsx)(n.code,{children:"Ctrl+I"})," overlays webpage with devtools showing all requests and responses, timing, and JSON structure."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Request History"}),": Stores all request and response data in global ",(0,d.jsx)(n.code,{children:"grab.log"})," object"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Pagination Infinite Scroll"}),": Built-in pagination for infinite scroll to auto-load and merge next result page."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Base URL Based on Environment"}),": Configure ",(0,d.jsx)(n.code,{children:"grab.defaults.baseURL"})," once at the top, overide with ",(0,d.jsx)(n.code,{children:"SERVER_API_URL"})," in ",(0,d.jsx)(n.code,{children:".env"})," or ",(0,d.jsx)(n.code,{children:"process.env.SERVER_API_URL"})," in Node.js."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Frontend Cache"}),": Set cache headers and retrieve from frontend memory for repeat requests to static data."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Modular Design"}),": Can be used in any frontend framework, Node.js 18+, Bun, Deno, Cloudflare Workers, etc."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Framework Agnostic"}),": Alternatives like TanStack work only in component initialization and depend on React & others."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Globals"}),": Adds to window in browser or global in Node.js so you only import once: ",(0,d.jsx)(n.code,{children:"grab()"}),", ",(0,d.jsx)(n.code,{children:"log()"}),", ",(0,d.jsx)(n.code,{children:"grab.log"}),", ",(0,d.jsx)(n.code,{children:"grab.mock"}),", ",(0,d.jsx)(n.code,{children:"grab.defaults"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"TypeScript Tooltips"}),": Developers can hover over option names and autocomplete TypeScript. Add to top of file: ",(0,d.jsx)(n.code,{children:"import 'grab-api.js/globals'"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Request Stategies"}),": ",(0,d.jsx)(n.a,{href:"https://grab.js.org/guide/Examples",children:"\uD83C\uDFAF Examples"})," show common stategies like debounce, repeat, proxy, unit tests, interceptors, file upload, etc"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Rate Limiting"}),": Built-in rate limiting to prevent multi-click cascading responses, require to wait seconds between requests."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Repeat"}),": Repeat request this many times, or repeat every X seconds to poll for updates."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Loading Icons"}),": Import from ",(0,d.jsx)(n.code,{children:"grab-api.js/icons"})," to get enhanced animated loading icons.\n",(0,d.jsx)(n.strong,{children:"GRAB is the FBEST Request Manager: Functionally Brilliant, Elegantly Simple Tool"})]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Parameter"}),(0,d.jsx)("th",{children:"Type"}),(0,d.jsx)("th",{children:"Description"})]})}),(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"path"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"string"})})}),(0,d.jsx)("td",{children:(0,d.jsxs)(n.p,{children:["The full URL path OR relative path on this server after ",(0,d.jsx)(n.code,{children:"grab.defaults.baseURL"})]})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options?"})})}),(0,d.jsx)("td",{children:(0,d.jsxs)(n.p,{children:["{ ",(0,d.jsx)(n.code,{children:"method?"}),": ",(0,d.jsx)(n.code,{children:"string"}),"; ",(0,d.jsx)(n.code,{children:"response?"}),": ",(0,d.jsx)(n.code,{children:"any"}),"; ",(0,d.jsx)(n.code,{children:"cancelOngoingIfNew?"}),": ",(0,d.jsx)(n.code,{children:"boolean"}),"; ",(0,d.jsx)(n.code,{children:"cancelNewIfOngoing?"}),": ",(0,d.jsx)(n.code,{children:"boolean"}),"; ",(0,d.jsx)(n.code,{children:"cache?"}),": ",(0,d.jsx)(n.code,{children:"boolean"}),"; ",(0,d.jsx)(n.code,{children:"debug?"}),": ",(0,d.jsx)(n.code,{children:"boolean"}),"; ",(0,d.jsx)(n.code,{children:"timeout?"}),": ",(0,d.jsx)(n.code,{children:"number"}),"; ",(0,d.jsx)(n.code,{children:"rateLimit?"}),": ",(0,d.jsx)(n.code,{children:"number"}),"; ",(0,d.jsx)(n.code,{children:"baseURL?"}),": ",(0,d.jsx)(n.code,{children:"string"}),"; ",(0,d.jsx)(n.code,{children:"setDefaults?"}),": ",(0,d.jsx)(n.code,{children:"boolean"}),"; ",(0,d.jsx)(n.code,{children:"retryAttempts?"}),": ",(0,d.jsx)(n.code,{children:"number"}),"; ",(0,d.jsx)(n.code,{children:"infiniteScroll?"}),": ",(0,d.jsx)(n.code,{children:"any"}),"[]; ",(0,d.jsx)(n.code,{children:"repeat?"}),": ",(0,d.jsx)(n.code,{children:"number"}),"; ",(0,d.jsx)(n.code,{children:"repeatEvery?"}),": ",(0,d.jsx)(n.code,{children:"number"}),"; ",(0,d.jsx)(n.code,{children:"logger?"}),": ",(0,d.jsx)(n.code,{children:"Function"}),"; ",(0,d.jsx)(n.code,{children:"onBeforeRequest?"}),": ",(0,d.jsx)(n.code,{children:"Function"}),"; ",(0,d.jsx)(n.code,{children:"onAfterRequest?"}),": ",(0,d.jsx)(n.code,{children:"Function"}),"; ",(0,d.jsx)(n.code,{children:"debounce?"}),": ",(0,d.jsx)(n.code,{children:"number"}),"; ",(0,d.jsx)(n.code,{children:"regrabOnStale?"}),": ",(0,d.jsx)(n.code,{children:"boolean"}),"; ",(0,d.jsx)(n.code,{children:"regrabOnFocus?"}),": ",(0,d.jsx)(n.code,{children:"boolean"}),"; ",(0,d.jsx)(n.code,{children:"regrabOnNetwork?"}),": ",(0,d.jsx)(n.code,{children:"boolean"}),"; }"]})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"Request params for GET or body for POST/PUT/PATCH and utility options"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.method?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"string"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:'default="GET" The HTTP method to use'})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.response?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"any"})})}),(0,d.jsx)("td",{children:(0,d.jsxs)(n.p,{children:["Pre-initialized object which becomes response JSON, no need for ",(0,d.jsx)(n.code,{children:".data"}),".\nisLoading and error may also be set on this object. May omit and use return if load status is not needed."]})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.cancelOngoingIfNew?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=true Cancel previous requests to same path"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.cancelNewIfOngoing?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=false Cancel if a request to path is in progress"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.cache?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=false Whether to cache the request and from frontend cache"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.debug?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=false Whether to log the request and response"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.timeout?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"number"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=20 The timeout for the request in seconds"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.rateLimit?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"number"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=0 If set, how many seconds to wait between requests"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.baseURL?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"string"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default='/api/' base url prefix, override with SERVER_API_URL env"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.setDefaults?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=false Pass this with options to set\nthose options as defaults for all requests."})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.retryAttempts?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"number"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=0 Retry failed requests this many times"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.infiniteScroll?"})})}),(0,d.jsx)("td",{children:(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"any"}),"[]"]})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=null [page key, response field to concatenate, element with results]"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.repeat?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"number"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=0 Repeat request this many times"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.repeatEvery?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"number"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=null Repeat request every seconds"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.logger?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Function"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=log Custom logger to override the built-in color JSON log()"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.onBeforeRequest?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Function"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"Set with defaults to modify each request data.\nTakes and returns in order: path, response, params, fetchParams"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.onAfterRequest?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Function"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"Set with defaults to modify each request data.\nTakes and returns in order: path, response, params, fetchParams"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.debounce?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"number"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=0 Seconds to debounce request, wait to execute so that other requests may override"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.regrabOnStale?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=false Refetch when cache is past staleTime"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.regrabOnFocus?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=false Refetch on window refocus"})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"options.regrabOnNetwork?"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"boolean"})})}),(0,d.jsx)("td",{children:(0,d.jsx)(n.p,{children:"default=false Refetch on network change"})})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"returns",children:"Returns"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Promise"}),"<",(0,d.jsx)(n.code,{children:"any"}),">"]}),"\n",(0,d.jsx)(n.p,{children:"The response object with resulting data or .error if error."}),"\n",(0,d.jsx)(n.h3,{id:"author",children:"Author"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.a,{href:"https://github.com/vtempest/grab-api",children:"vtempest (2025)"})}),"\n",(0,d.jsx)(n.h3,{id:"see",children:"See"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.a,{href:"https://grab.js.org/guide/Examples",children:"\uD83C\uDFAF Examples"})," ",(0,d.jsx)(n.a,{href:"https://grab.js.org",children:"\uD83D\uDCD1 Docs"})]}),"\n",(0,d.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"import grab from 'grab-api.js';\nlet res = {};\nawait grab('search', {\n  response: res,\n  query: \"search words\"\n})\n"})})]})}function a(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},50065:function(e,n,r){r.d(n,{Z:()=>c,a:()=>t});var s=r(39546);let d={},i=s.createContext(d);function t(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);