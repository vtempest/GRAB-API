"use strict";(self.webpackChunkdocusaurus_openapi_typedoc=self.webpackChunkdocusaurus_openapi_typedoc||[]).push([["676"],{82427:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>v,default:()=>y,contentTitle:()=>f,assets:()=>b,toc:()=>x,metadata:()=>t});var t=JSON.parse('{"id":"guide/Examples","title":"Examples","description":"Basic Examples","source":"@site/docs/guide/Examples.md","sourceDirName":"guide","slug":"/guide/Examples","permalink":"/guide/Examples","draft":false,"unlisted":false,"editUrl":"https://github.com/vtempest/grab-api.js/blob/main/docs/guide/Examples.md","tags":[],"version":"current","frontMatter":{},"sidebar":"default","previous":{"title":"Comparisons","permalink":"/guide/Comparisons"},"next":{"title":"Performance","permalink":"/guide/Performance"}}'),r=a(74132),s=a(50065),i=a(39546),l=a(54461),c=a(14044),o=a(81255),u=a(1897);function d(e){let{className:n,block:a,selectedValue:t,selectValue:s,tabValues:i}=e,o=[],{blockElementScrollPositionUntilNextRender:u}=(0,c.o5)(),d=e=>{let n=e.currentTarget,a=i[o.indexOf(n)].value;a!==t&&(u(n),s(a))},p=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{let a=o.indexOf(e.currentTarget)+1;n=o[a]??o[0];break}case"ArrowLeft":{let a=o.indexOf(e.currentTarget)-1;n=o[a]??o[o.length-1]}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},n),children:i.map(e=>{let{value:n,label:a,attributes:s}=e;return(0,r.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>{o.push(e)},onKeyDown:p,onClick:d,...s,className:(0,l.Z)("tabs__item","tabItem_Fy5Y",s?.className,{"tabs__item--active":t===n}),children:a??n},n)})})}function p(e){let{lazy:n,children:a,selectedValue:t}=e,s=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){let e=s.find(e=>e.props.value===t);return e?(0,i.cloneElement)(e,{className:(0,l.Z)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function h(e){let n=(0,o.Y)(e);return(0,r.jsxs)("div",{className:(0,l.Z)("tabs-container","tabList_FIrj"),children:[(0,r.jsx)(d,{...n,...e}),(0,r.jsx)(p,{...n,...e})]})}function m(e){let n=(0,u.default)();return(0,r.jsx)(h,{...e,children:(0,o.h)(e.children)},String(n))}var g=a(94554);a(89440);let v={},f=void 0,b={},x=[{value:"Basic Examples",id:"basic-examples",level:2},{value:"Basic Import",id:"basic-import",level:3},{value:"Import with TypeScript Types",id:"import-with-typescript-types",level:3},{value:"Basic Examples",id:"basic-examples-1",level:2},{value:"Simple GET Request",id:"simple-get-request",level:3},{value:"POST Request with Body",id:"post-request-with-body",level:3},{value:"Reactive Loading Status",id:"reactive-loading-status",level:3},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Pagination with Infinite Scroll",id:"pagination-with-infinite-scroll",level:3},{value:"Debounced Search",id:"debounced-search",level:3},{value:"Request Caching",id:"request-caching",level:3},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Request Cancellation",id:"request-cancellation",level:3},{value:"Global Configuration",id:"global-configuration",level:3},{value:"Error Handling and Retry",id:"error-handling-and-retry",level:3},{value:"Request Hooks and Interceptors",id:"request-hooks-and-interceptors",level:3},{value:"Real-World Examples",id:"real-world-examples",level:2},{value:"Authentication Flow",id:"authentication-flow",level:3},{value:"File Upload",id:"file-upload",level:3},{value:"Real-time Data Updates",id:"real-time-data-updates",level:3},{value:"E-commerce Cart Example",id:"e-commerce-cart-example",level:3}];function j(e){let n={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"basic-examples",children:"Basic Examples"}),"\n",(0,r.jsx)(n.h3,{id:"basic-import",children:"Basic Import"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:"npm2yarn",children:"npm install grab-api.js\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:"npm2yarn",children:"bun i grab-api.js\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import grab from 'grab-api.js';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"import-with-typescript-types",children:"Import with TypeScript Types"}),"\n",(0,r.jsx)(n.p,{children:"This supports tooltips and autocomplete by adding types globally."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import 'grab-api.js/global'\nimport grab from 'grab-api.js';\n"})}),"\n",(0,r.jsx)(n.h2,{id:"basic-examples-1",children:"Basic Examples"}),"\n",(0,r.jsx)(n.h3,{id:"simple-get-request",children:"Simple GET Request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Basic GET request\nconst user = await grab('user/123');\nconsole.log(user); // { id: 123, name: \"John Doe\", ... }\n\n// With query parameters\nconst searchResults = await grab('search', {\n  query: 'javascript',\n  page: 1,\n  limit: 10\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"post-request-with-body",children:"POST Request with Body"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Create a new user\nconst newUser = await grab('users', {\n  method: 'POST',\n  name: 'Jane Doe',\n  email: 'jane@example.com',\n  age: 25\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"reactive-loading-status",children:"Reactive Loading Status"}),"\n",(0,r.jsxs)(m,{children:[(0,r.jsxs)(g.default,{value:"react",label:"React",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import React, { useState } from 'react';\nimport { grab } from 'grab-api.js';\n\nfunction UserProfile() {\n  const [userState, setUserState] = useState({\n    data: null,\n    isLoading: false,\n    error: null\n  });\n\n  const loadUser = async (userId) => {\n    await grab(`users/${userId}`, {\n      response: userState,\n      method: 'GET'\n    });\n    setUserState({...userState}); // Trigger re-render\n  };\n\n  return (\n    <div>\n      {userState.isLoading && <div>Loading...</div>}\n      {userState.error && <div>Error: {userState.error}</div>}\n      {userState.data && (\n        <div>\n          <h2>{userState.data.name}</h2>\n          <p>{userState.data.email}</p>\n        </div>\n      )}\n      <button onClick={() => loadUser(123)}>\n        Load User\n      </button>\n    </div>\n  );\n}\n"})}),(0,r.jsx)(n.hr,{})]}),(0,r.jsx)(g.default,{value:"svelte",label:"Svelte",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-svelte",children:'<script>\n  import { grab } from \'grab-api.js\';\n  \n  let searchResults = $state({\n    results: [],\n    isLoading: false,\n    error: null\n  });\n\n  async function searchProducts(query) {\n    await grab(\'products/search\', {\n      response: searchResults,\n      method: \'POST\',\n      query: query,\n      category: \'electronics\'\n    });\n  }\n<\/script>\n\n<input \n  type="text" \n  on:input={(e) => searchProducts(e.target.value)}\n  placeholder="Search products..." \n/>\n\n{#if searchResults.isLoading}\n  <div class="loading">Searching...</div>\n{:else if searchResults.error}\n  <div class="error">{searchResults.error}</div>\n{:else if searchResults.results}\n  <div class="results">\n    {#each searchResults.results as product}\n      <div class="product-card">\n        <h3>{product.name}</h3>\n        <p>${product.price}</p>\n      </div>\n    {/each}\n  </div>\n{/if}\n'})})}),(0,r.jsx)(g.default,{value:"vue3",label:"Vue 3",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-vue",children:'<template>\n  <div>\n    <input \n      v-model="searchTerm" \n      @input="searchUsers"\n      placeholder="Search users..."\n    />\n    \n    <div v-if="userResults.isLoading" class="loading">\n      Loading users...\n    </div>\n    \n    <div v-else-if="userResults.error" class="error">\n      {{ userResults.error }}\n    </div>\n    \n    <div v-else class="user-list">\n      <div \n        v-for="user in userResults.users" \n        :key="user.id"\n        class="user-card"\n      >\n        {{ user.name }} - {{ user.email }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive } from \'vue\';\nimport { grab } from \'grab-api.js\';\n\nconst searchTerm = ref(\'\');\nconst userResults = reactive({\n  users: [],\n  isLoading: false,\n  error: null\n});\n\nconst searchUsers = async () => {\n  if (searchTerm.value.length < 2) return;\n  \n  await grab(\'users/search\', {\n    response: userResults,\n    query: searchTerm.value,\n    status: \'active\'\n  });\n};\n<\/script>\n'})})})]}),"\n",(0,r.jsx)(n.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,r.jsx)(n.h3,{id:"pagination-with-infinite-scroll",children:"Pagination with Infinite Scroll"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"let productList = {\n  products: [],\n  isLoading: false,\n  hasMore: true\n};\n\n// Load first page\nasync function loadResults(){\n  await grab('products', {\n    response: productList,\n    paginateResult: 'products', // Key to append results to\n    paginateKey: 'page',        // Parameter name for page number\n    limit: 20\n  });\n}\n\n// Infinite scroll implementation\nfunction setupInfiniteScroll(element) {\n  loadResults()\n\n  element.addEventListener('scroll', async () => {\n    if (element.innerHeight + element.scrollY >= element.offsetHeight - 1000) {\n      if (!productList.isLoading) \n          loadResults()\n    }\n  });\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"debounced-search",children:"Debounced Search"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Utility function for debouncing\nfunction debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n// Debounced search implementation\nconst debouncedSearch = debounce(async (query) => {\n  if (query.length < 2) return;\n  \n  await grab('search', {\n    response: searchResults,\n    query: query,\n    cancelOngoingIfNew: true // Cancel previous searches\n  });\n}, 300); // Wait 300ms after user stops typing\n\n// Usage in input handler\nfunction handleSearchInput(event) {\n  debouncedSearch(event.target.value);\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"request-caching",children:"Request Caching"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Enable caching for static data\nconst categories = await grab('categories', { \n  cache: true \n});\n\n// Subsequent calls return cached data\nconst categoriesAgain = await grab('categories', { \n  cache: true \n}); // Instant response from cache\n"})}),"\n",(0,r.jsx)(n.h3,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Prevent spam requests\nlet searchResults = {};\n\nasync function searchWithRateLimit(query) {\n  await grab('search', {\n    response: searchResults,\n    query: query,\n    rateLimit: 2 // Wait 2 seconds between requests\n  });\n}\n\n// Multiple rapid calls will be rate limited\nsearchWithRateLimit('javascript'); // Executes immediately\nsearchWithRateLimit('python');     // Executes immediately  \nsearchWithRateLimit('golang');     // Waits 2 seconds\n"})}),"\n",(0,r.jsx)(n.h3,{id:"request-cancellation",children:"Request Cancellation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"let currentSearch = {};\n\nasync function searchProducts(query) {\n  // Cancel previous search when new one starts\n  await grab('products/search', {\n    response: currentSearch,\n    query: query,\n    cancelOngoingIfNew: true // Default behavior\n  });\n}\n\n// Prevent new requests if one is ongoing\nasync function preventDuplicateRequests(userId) {\n  await grab(`users/${userId}`, {\n    cancelNewIfOngoing: true // Prevents duplicate requests\n  });\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"global-configuration",children:"Global Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Set defaults for all requests\ngrab('', {\n  setDefaults: true,\n  baseURL: 'https://api.myapp.com/v1',\n  timeout: 30, // 30 seconds\n  debug: true,\n  rateLimit: 1, // 1 second between requests\n  cache: false,\n  cancelOngoingIfNew: true,\n  headers: {\n    'Authorization': 'Bearer your-token-here',\n    'X-API-Key': 'your-api-key'\n  }\n});\n\n// Or set directly\ngrab.default.baseURL = 'https://api.myapp.com/v1';\ngrab.default.headers = {\n  'Authorization': 'Bearer your-token-here'\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"error-handling-and-retry",children:"Error Handling and Retry"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"let apiData = {};\n\n// Automatic retry on failure\nawait grab('unreliable-endpoint', {\n  response: apiData,\n  retryAttempts: 3, // Retry 3 times on failure\n  timeout: 10       // 10 second timeout\n});\n\n// Manual error handling\ntry {\n  const result = await grab('api/data');\n  console.log('Success:', result);\n} catch (error) {\n  if (error.message.includes('timeout')) {\n    console.log('Request timed out');\n  } else if (error.message.includes('rate limit')) {\n    console.log('Too many requests');\n  } else {\n    console.log('Other error:', error.message);\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"request-hooks-and-interceptors",children:"Request Hooks and Interceptors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Global request interceptor\ngrab.default.onBeforeRequest = (path, response, params, fetchParams) => {\n  // Add authentication header\n  fetchParams.headers.Authorization = `Bearer ${getAuthToken()}`;\n  \n  // Log all requests\n  console.log(`Making request to: ${path}`, params);\n  \n  // Modify request data\n  if (params.userId) {\n    params.user_id = params.userId;\n    delete params.userId;\n  }\n  \n  return [path, response, params, fetchParams];\n};\n\nfunction getAuthToken() {\n  return localStorage.getItem('authToken') || '';\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"real-world-examples",children:"Real-World Examples"}),"\n",(0,r.jsx)(n.h3,{id:"authentication-flow",children:"Authentication Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Login component\nclass AuthService {\n  constructor() {\n    this.user = { isLoading: false, data: null, error: null };\n  }\n\n  async login(email, password) {\n    const result = await grab('auth/login', {\n      method: 'POST',\n      response: this.user,\n      email,\n      password\n    });\n\n    if (result.token) {\n      localStorage.setItem('authToken', result.token);\n      grab.default.headers = {\n        ...grab.default.headers,\n        'Authorization': `Bearer ${result.token}`\n      };\n    }\n\n    return result;\n  }\n\n  async logout() {\n    await grab('auth/logout', { method: 'POST' });\n    localStorage.removeItem('authToken');\n    delete grab.default.headers.Authorization;\n    this.user.data = null;\n  }\n}\n\nconst auth = new AuthService();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"file-upload",children:"File Upload"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"async function uploadFile(file, onProgress) {\n  const formData = new FormData();\n  formData.append('file', file);\n  \n  const response = await grab('/api/upload', {\n    method: 'POST',\n    body: formData,\n    headers: {\n      'Authorization': `Bearer ${getAuthToken()}`\n    }\n  });\n  \n}\n\n// Alternative: Convert file to base64 for JSON API\nasync function uploadFileAsJSON(file) {\n  const base64 = await fileToBase64(file);\n  \n  return await grab('files/upload', {\n    method: 'POST',\n    filename: file.name,\n    content: base64,\n    mimeType: file.type\n  });\n}\n\nfunction fileToBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = error => reject(error);\n  });\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"real-time-data-updates",children:"Real-time Data Updates"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Polling for real-time updates\nclass LiveDataService {\n  constructor() {\n    this.data = { items: [], isLoading: false };\n    this.pollInterval = null;\n  }\n\n  startPolling(intervalMs = 5000) {\n    this.pollInterval = setInterval(async () => {\n              await grab('live-data', {\n        response: this.data,\n        cache: false,\n        timestamp: Date.now() // Prevent caching\n      });\n    }, intervalMs);\n  }\n\n  stopPolling() {\n    if (this.pollInterval) {\n      clearInterval(this.pollInterval);\n      this.pollInterval = null;\n    }\n  }\n}\n\nconst liveData = new LiveDataService();\nliveData.startPolling(3000); // Poll every 3 seconds\n"})}),"\n",(0,r.jsx)(n.h3,{id:"e-commerce-cart-example",children:"E-commerce Cart Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"class ShoppingCart {\n  constructor() {\n    this.cart = {\n      items: [],\n      total: 0,\n      isLoading: false,\n      error: null\n    };\n    this.loadCart();\n  }\n\n  async loadCart() {\n    await grab('cart', {\n      response: this.cart,\n      cache: true\n    });\n  }\n\n  async addItem(productId, quantity = 1) {\n    await grab('cart/add', {\n      method: 'POST',\n      response: this.cart,\n      productId,\n      quantity\n    });\n  }\n\n  async removeItem(itemId) {\n    await grab(`cart/remove/${itemId}`, {\n      method: 'DELETE',\n      response: this.cart\n    });\n  }\n\n  async updateQuantity(itemId, quantity) {\n    await grab(`cart/update/${itemId}`, {\n      method: 'PATCH',\n      response: this.cart,\n      quantity\n    });\n  }\n\n  async checkout(paymentData) {\n    const result = await grab('cart/checkout', {\n      method: 'POST',\n      ...paymentData,\n      rateLimit: 5 // Prevent double-clicking checkout\n    });\n    \n    if (result.success) {\n      this.cart.items = [];\n      this.cart.total = 0;\n    }\n    \n    return result;\n  }\n}\n\n// Usage in React component\nfunction CartComponent() {\n  const [cart] = useState(new ShoppingCart());\n  const [cartState, setCartState] = useState(cart.cart);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCartState({...cart.cart}); // Update UI when cart changes\n    }, 100);\n    \n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div>\n      {cartState.isLoading ? (\n        <div>Loading cart...</div>\n      ) : (\n        <div>\n          <h2>Shopping Cart ({cartState.items.length} items)</h2>\n          {cartState.items.map(item => (\n            <div key={item.id} className=\"cart-item\">\n              <span>{item.name}</span>\n              <span>${item.price}</span>\n              <button onClick={() => cart.removeItem(item.id)}>\n                Remove\n              </button>\n            </div>\n          ))}\n          <div className=\"cart-total\">\n            Total: ${cartState.total}\n          </div>\n          <button \n            onClick={() => cart.checkout({ method: 'credit_card' })}\n            disabled={cartState.items.length === 0}\n          >\n            Checkout\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"})})]})}function y(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}}}]);